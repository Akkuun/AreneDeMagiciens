[gd_resource type="BehaviorTree" load_steps=19 format=3 uid="uid://cqdkws254vlu4"]

[ext_resource type="Script" uid="uid://bwrcgqnap4yof" path="res://ai/tasks/get_first_in_group.gd" id="1_vaaoe"]
[ext_resource type="Script" uid="uid://dmx4g6vr6u2c6" path="res://ai/tasks/select_flanking_pos.gd" id="3_rsv4q"]
[ext_resource type="Script" uid="uid://nrg0phxx4b66" path="res://ai/tasks/arrive_pos.gd" id="4_aeqyo"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_ocnie"]

[sub_resource type="BBNode" id="BBNode_aeqyo"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_mh77e"]
animation_player = SubResource("BBNode_aeqyo")
animation_name = &"Idle"
blend = 0.2

[sub_resource type="BTRandomWait" id="BTRandomWait_rsv4q"]
min_duration = 1.2
max_duration = 3.0

[sub_resource type="BTAction" id="BTAction_aeqyo"]
script = ExtResource("1_vaaoe")
group = &"dummy"

[sub_resource type="BTAction" id="BTAction_r7adr"]
script = ExtResource("3_rsv4q")
range_min = 5.0
range_max = 8.0

[sub_resource type="BBNode" id="BBNode_r7adr"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_rsv4q"]
animation_player = SubResource("BBNode_r7adr")
animation_name = &"Run"
blend = 0.1

[sub_resource type="BTAction" id="BTAction_rsv4q"]
script = ExtResource("4_aeqyo")
avoid_var = &"target"

[sub_resource type="BTTimeLimit" id="BTTimeLimit_07ai8"]
time_limit = 7.0
children = [SubResource("BTAction_rsv4q")]

[sub_resource type="BBNode" id="BBNode_rsv4q"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTStopAnimation" id="BTStopAnimation_aeqyo"]
animation_player = SubResource("BBNode_rsv4q")
animation_name = &"Run"

[sub_resource type="BTSequence" id="BTSequence_t88kj"]
custom_name = "Change flank"
children = [SubResource("BTAction_r7adr"), SubResource("BTPlayAnimation_rsv4q"), SubResource("BTTimeLimit_07ai8"), SubResource("BTStopAnimation_aeqyo")]
metadata/_weight_ = 0.5001500150015001

[sub_resource type="BTSequence" id="BTSequence_jswlx"]
custom_name = "Brake"
children = [SubResource("BTRandomWait_rsv4q"), SubResource("BTAction_aeqyo"), SubResource("BTSequence_t88kj")]

[sub_resource type="BTSequence" id="BTSequence_mi6ct"]
custom_name = "MAin"
children = [SubResource("BTPlayAnimation_mh77e"), SubResource("BTSequence_jswlx")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_ocnie")
root_task = SubResource("BTSequence_mi6ct")
